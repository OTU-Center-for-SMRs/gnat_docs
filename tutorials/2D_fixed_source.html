<!DOCTYPE html><head><meta charset="UTF-8"><title>Simple 2 D Fixed Source Problems | Gnat</title><link href="../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../css/civet_moose.css" type="text/css" rel="stylesheet"></link><link href="../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../css/katex_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../contrib/katex/katex.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="../index.html" class="left moose-logo hide-on-med-and-down" id="home-button">Gnat</a><a href="https://github.com/OTU-Center-for-Small-Modular-Reactors/gnat" class="right"><img src="../media/framework/github-logo.png" class="github-mark"></img><img src="../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="#!" class="dropdown-trigger" data-target="99239d9d-b6c3-4292-9df7-a6d897d69530" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="608ccf54-b4e0-4b79-817e-471ba2c12209" data-constrainWidth="false">Theory and Implementation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="74afd42e-b196-4aa2-b073-32f6c8a5f213" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../publications.html">Publications</a></li><li><a href="../contact.html">Contact</a></li></ul><a href="#" class="sidenav-trigger" data-target="d13132db-61eb-4cfc-a745-bd182470d934"><i class="material-icons">menu</i></a><ul class="sidenav" id="d13132db-61eb-4cfc-a745-bd182470d934"><li><a href="#!" class="dropdown-trigger" data-target="32b2c9ce-7983-4b1c-8d80-1ba9a66aa9ca" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="1334aff5-34ce-4434-9e5b-37ab16cb7a1d" data-constrainWidth="false">Theory and Implementation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="443cf7b1-ebb8-44e3-ba8d-687f056c0322" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../publications.html">Publications</a></li><li><a href="../contact.html">Contact</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div><ul class="dropdown-content" id="99239d9d-b6c3-4292-9df7-a6d897d69530"><li><a href="../installation/index.html">Installation</a></li><li><a href="index.html">Tutorials</a></li></ul><ul class="dropdown-content" id="608ccf54-b4e0-4b79-817e-471ba2c12209"><li><a href="../about/radiation_transport.html">Radiation Transport</a></li><li><a href="../about/mobile_depletion.html">Fluid Depletion</a></li><li><a href="../about/implementation.html">Implementation</a></li></ul><ul class="dropdown-content" id="74afd42e-b196-4aa2-b073-32f6c8a5f213"><li><a href="../source/index.html">Gnat Source Pages</a></li><li><a href="https://mooseframework.inl.gov/source/index.html">MOOSE Source Pages</a></li></ul><ul class="dropdown-content" id="32b2c9ce-7983-4b1c-8d80-1ba9a66aa9ca"><li><a href="../installation/index.html">Installation</a></li><li><a href="index.html">Tutorials</a></li></ul><ul class="dropdown-content" id="1334aff5-34ce-4434-9e5b-37ab16cb7a1d"><li><a href="../about/radiation_transport.html">Radiation Transport</a></li><li><a href="../about/mobile_depletion.html">Fluid Depletion</a></li><li><a href="../about/implementation.html">Implementation</a></li></ul><ul class="dropdown-content" id="443cf7b1-ebb8-44e3-ba8d-687f056c0322"><li><a href="../source/index.html">Gnat Source Pages</a></li><li><a href="https://mooseframework.inl.gov/source/index.html">MOOSE Source Pages</a></li></ul></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/index.md" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href="." class="breadcrumb">tutorials</a><a href="#" class="breadcrumb">2D_fixed_source</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="14ec39d9-9e58-4881-9de0-39fce9a3e86f" data-section-level="1" data-section-text="Simple 2 D Fixed - Source Problems"><h1 id="simple-2-d-fixed-source-problems">Simple 2D Fixed-Source Problems</h1><p>In this tutorial, you will learn:</p><ol class="browser-default" start="1"><li><p>How to model 2D shielding problems in Gnat; </p></li><li><p>How to provide multi-group material properties; </p></li><li><p>How to specify point and surface sources.</p></li></ol><p>To access this tutorial,</p><pre class="moose-pre"><code class="language-bash">
cd gnat/tutorials/2D_fixed_source
</code></pre><section class="scrollspy" id="7136ca5d-81cf-426d-aeb7-9ee546495b7b" data-section-level="2" data-section-text="Geometry and Material Properties"><h2 id="geometry-and-material-properties">Geometry and Material Properties</h2><p>This problem is one where an isotropic neutron point source is placed in the middle of a <span class="moose-katex-inline-equation" id="moose-equation-4ff4786e-010a-4067-b372-149d14b6501f"><script>var element = document.getElementById("moose-equation-4ff4786e-010a-4067-b372-149d14b6501f");katex.render("10\\text{ cm }\\times 10\\text{ cm }", element, {displayMode:false,throwOnError:false});</script></span> 2D domain that scatters neutrons isotropically and absorbs neutrons. The point source emits at a constant rate of <span class="moose-katex-inline-equation" id="moose-equation-07570f64-0bab-40a0-a2a0-e782a736bca9"><script>var element = document.getElementById("moose-equation-07570f64-0bab-40a0-a2a0-e782a736bca9");katex.render("1\\times 10^{3}\\text{ s}^{-1}", element, {displayMode:false,throwOnError:false});</script></span> into a single energy group. Vacuum boundaries surround the domain on all four sides and the problem is at steady-state. The material has <span class="moose-katex-inline-equation" id="moose-equation-d89733a4-7d60-4740-b873-97982151720c"><script>var element = document.getElementById("moose-equation-d89733a4-7d60-4740-b873-97982151720c");katex.render("\\Sigma_{t} = 2.0", element, {displayMode:false,throwOnError:false});</script></span> cm<span class="moose-katex-inline-equation" id="moose-equation-89f17f0c-78b1-49bf-af3d-8d836eac3ea7"><script>var element = document.getElementById("moose-equation-89f17f0c-78b1-49bf-af3d-8d836eac3ea7");katex.render("^{-1}", element, {displayMode:false,throwOnError:false});</script></span> and <span class="moose-katex-inline-equation" id="moose-equation-6746d5eb-3e4d-424b-a717-58d0e2bb7796"><script>var element = document.getElementById("moose-equation-6746d5eb-3e4d-424b-a717-58d0e2bb7796");katex.render("\\Sigma_{s} = 1.0", element, {displayMode:false,throwOnError:false});</script></span> cm<span class="moose-katex-inline-equation" id="moose-equation-576c55cc-f170-4e1e-a835-e5211f22f529"><script>var element = document.getElementById("moose-equation-576c55cc-f170-4e1e-a835-e5211f22f529");katex.render("^{-1}", element, {displayMode:false,throwOnError:false});</script></span>.</p></section><section class="scrollspy" id="6420f589-f9a1-4b3e-842e-248c9529ad86" data-section-level="2" data-section-text="The Neutronics Input File"><h2 id="the-neutronics-input-file">The Neutronics Input File</h2><p>Like any problem which is solved with the finite element method, the first step in using Gnat for neutron transport is to declare a mesh. For a simple case like this one the built-in mesh generators in Moose can be used:</p><pre class="moose-pre" style="max-height:350px;"><code class="language-text">[Mesh]
  [domain]
    type = CartesianMeshGenerator
    dim = 2
    dx = 10
    dy = 10
    ix = 101
    iy = 101
  []
[]
</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#d20e0b37-1299-4dc1-a5e4-34f8a3d6b85a">(tutorials/2D_fixed_source/2D_point_source.i)</a><p>The <a href="https://mooseframework.inl.gov/source/meshgenerators/CartesianMeshGenerator.html">CartesianMeshGenerator</a> object generates simple cartesian meshes in 1D, 2D or 3D. <code>dim = 2</code> is set to let the mesh generator know that a 2D cartesian mesh is required. <code>dx = 10</code> and <code>dy = 10</code> set the size of the mesh to 10 cm in both x and y. Finally, <code>ix = 100</code> and <code>iy = 100</code> indicate that the mesh should be subdivided into 100 elements along both the x and y axis. The result is shown in <a class="moose-float-reference" href="#2D_problem_mesh">Figure 1</a>:</p><div class="card moose-float" style="width:40%;margin-left:auto;margin-right:auto;halign:center" id="2D_problem_mesh"><div class="card-content"><picture class="materialboxed moose-image"><img src="../media/2D_fixed_source/mesh.png"></img></picture><p class="moose-caption"><span class="moose-caption-heading">Figure 1: </span><span class="moose-caption-text" id="2D_problem_mesh">2D cartesian mesh for the 2D point source problem.</span></p></div></div><p>The next step in solving radiation transport problems is to declare a <code>TransportSystem</code> block. This is short-cut syntax that sets up all of the kernels and variables necessary for transport calculations along many directions for many energy groups, which minimizes the length of your Gnat input file.</p><pre class="moose-pre" style="max-height:350px;"><code class="language-text">[TransportSystems]
  [Neutron]
    num_groups = 1
    max_anisotropy = 0
    scheme = saaf_cfem
    particle_type = neutron

    order = FIRST
    family = LAGRANGE

    n_azimuthal = 2
    n_polar = 2

    vacuum_boundaries = &#x27;left right top bottom&#x27;

    point_source_locations = &#x27;5.0 5.0 0.0&#x27;
    point_source_moments = &#x27;1e3&#x27;
    point_source_anisotropies = &#x27;0&#x27;
    scale_sources = true
  []
[]
</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#f6af3559-7677-4424-ae1d-76f768ac98cd">(tutorials/2D_fixed_source/2D_point_source.i)</a><p>To start, <code>num_groups = 1</code> specifies that the transport simulation should only consider a single neutron group although more can be specified at the cost of increased computational complexity. <code>max_anisotropy = 0</code> tells the transport simulation to only evaluate the 0th-order moment of the angular flux, which is more than enough for this case as scattering is isotropic. <code>scheme = saaf_cfem</code> states that the self-adjoint angular flux stabilization scheme is requested. In accordance with that choice, continuous basis functions in the form of first-order (<code>order = FIRST</code>) Lagrange (<code>family = LAGRANGE</code>) functions are used. The number of angular directions are specified with <code>n_azimuthal = 2</code> and <code>n_polar = 2</code>, and vacuum boundaries are specified for all sides with <code>vacuum_boundaries = &#x27;left right top bottom&#x27;</code>. Finally, the point source is specified with a location at (5.0, 5.0, 5.0) with an emission intensity of 1000 n/s emitting into the single energy group. In addition to specifying the point source, we also set <code>scale_sources = true</code> which divides all source moments by the largest moment value. This rescales the fixed source problem such that the largest source moment is unity, improving the stability of the finite element solve.</p><p>Next, the material properties of the domain must be specified. Gnat does this through a system implemented for transport problems known as &#x27;TransportMaterials&#x27;:</p><pre class="moose-pre" style="max-height:350px;"><code class="language-text">[TransportMaterials]
  [Domain]
    type = ConstantTransportMaterial
    transport_system = Neutron
    anisotropy = 0
    group_total = 2.0
    group_scattering = 1.0
  []
[]
</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#c12dc292-1e2d-40d5-bac4-ff7a02fcbe43">(tutorials/2D_fixed_source/2D_point_source.i)</a><p>This declares a constant material which provides enough parameters for a single neutron group. The material provides an isotropic scattering cross section (<code>anisotropy = 0</code>). The material has an total cross section of 2 (<code>group_total = 2.0</code>) and a scattering cross section of 1 (<code>group_scattering = 1.0</code>). <code>transport_system = Neutron</code> links this material to the <code>Neutron</code> transport system previously declared.</p><p>The remainder of the input file describes how the problem should be solved:</p><pre class="moose-pre" style="max-height:350px;"><code class="language-text">[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; hypre    boomeramg      10&#x27;
  l_max_its = 50
  nl_rel_tol = 1e-12
[]
</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#cf07a39d-3199-4813-bec8-52c4cf30c0c5">(tutorials/2D_fixed_source/2D_point_source.i)</a><p>The <code>Executioner</code> block declares the solver parameters and solve type. In this case, <code>type = Steady</code> and the Preconditioned Jacobian-Free Newton Krylov (<code>solve_type = PJFNK</code>) is used. It is recommended that the user employ the PJFNK solver for continuous finite element methods when solving radiation transport problems with the SAAF-CFEM scheme.</p><p>The simulation can be executed with the following shell command:</p><pre class="moose-pre"><code class="language-bash">
mpiexec -np 2 gnat-opt -i ./2D_point_source.i --n-threads=2
</code></pre><p>The results of this simple case can be seen below in <a class="moose-float-reference" href="#point_output">Figure 2</a>:</p><div class="card moose-float" style="width:40%;margin-left:auto;margin-right:auto;halign:center" id="point_output"><div class="card-content"><picture class="materialboxed moose-image"><img src="../media/2D_fixed_source/1_group_point_source.png"></img></picture><p class="moose-caption"><span class="moose-caption-heading">Figure 2: </span><span class="moose-caption-text" id="point_output">Scalar flux from the 2D point source problem.</span></p></div></div><p>We can see the signature disadvantage of the discrete ordiantes method: ray effects. These occur because of the limited angular resolution (four directions per quadrant of the 2D unit sphere) of the chosen discretization compared to the small size of the fixed source. We can attempt to mitigate these ray effects by adding extra directions by specifying <code>n_azimuthal = 10</code> and <code>n_polar = 10</code>, which results in <a href="#point_output_ref">Figure 3</a>.</p><div class="card moose-float" style="width:40%;margin-left:auto;margin-right:auto;halign:center" id="point_output_ref"><div class="card-content"><picture class="materialboxed moose-image"><img src="../media/2D_fixed_source/1_group_point_source_ref.png"></img></picture><p class="moose-caption"><span class="moose-caption-heading">Figure 3: </span><span class="moose-caption-text" id="point_output_ref">Refined scalar flux from the 2D point source problem.</span></p></div></div><p>However, the increased angular fidelity results in a large increase in runtime with diminishing returns. Instead of increasing the number of directions one could instead use an uncollided flux technique, which is discussed in the <a href="uncollided_flux.html">uncollided flux tutorial</a>.</p></section><section class="scrollspy" id="ffd243d7-8816-4bfe-a3da-1e36d7cb6d0a" data-section-level="2" data-section-text="Adding a Second Energy Group"><h2 id="adding-a-second-energy-group">Adding a Second Energy Group</h2><p>In this section, we modify the problem to add a second energy group. The modifications made to the transport system can be found below.</p><pre class="moose-pre" style="max-height:350px;"><code class="language-text">[TransportSystems]
  [Neutron]
    num_groups = 2
    max_anisotropy = 0
    scheme = saaf_cfem
    particle_type = neutron

    order = FIRST
    family = LAGRANGE

    n_azimuthal = 2
    n_polar = 2

    vacuum_boundaries = &#x27;left right top bottom&#x27;

    point_source_locations = &#x27;5.0 5.0 0.0&#x27;
    point_source_moments = &#x27;1e3 1.0&#x27;
    point_source_anisotropies = &#x27;0&#x27;
    scale_sources = true
  []
[]
</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#98c458ab-63e7-44c4-8f35-7850667bdaea">(tutorials/2D_fixed_source/2D_point_source_2_grp.i)</a><p>We specify that two energy groups should be added by setting <code>num_groups = 2</code>. We then add a second source moment for the point source with <code>point_source_moments = &#x27;1e3 1.0&#x27;</code>. The <code>TransportMaterials</code> block then needs to be modified with a new set of group properties.</p><pre class="moose-pre" style="max-height:350px;"><code class="language-text">[TransportMaterials]
  [Domain]
    type = ConstantTransportMaterial
    transport_system = Neutron
    anisotropy = 0
    group_total = &#x27;1.0 2.0&#x27;
    group_scattering = &#x27;0.4 0.1
                        0.0 2.0&#x27;
  []
[]
</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#b784a73b-063e-430d-9501-a0fffe61dcd9">(tutorials/2D_fixed_source/2D_point_source_2_grp.i)</a><p>Here, we modify the total cross section such that it&#x27;s representative of two-group transport in a highly scattering material (such as water). The scattering cross section becomes a scattering matrix with zero thermal upscattering. This modified input deck can be run with:</p><pre class="moose-pre"><code class="language-bash">
mpiexec -np 2 gnat-opt -i ./2D_point_source_2_grp.i --n-threads=2
</code></pre><p>The results for group 1 (fast) can be found in <a href="#2g_point_g1">Figure 4</a>, while the results for group 2 (thermal) can be found in <a href="#2g_point_g2">Figure 5</a>.</p><div class="card moose-float" style="width:40%;margin-left:auto;margin-right:auto;halign:center" id="2g_point_g1"><div class="card-content"><picture class="materialboxed moose-image"><img src="../media/2D_fixed_source/2_group_point_source_g1.png"></img></picture><p class="moose-caption"><span class="moose-caption-heading">Figure 4: </span><span class="moose-caption-text" id="2g_point_g1">Group 1 scalar flux from the 2D point source problem.</span></p></div></div><div class="card moose-float" style="width:40%;margin-left:auto;margin-right:auto;halign:center" id="2g_point_g2"><div class="card-content"><picture class="materialboxed moose-image"><img src="../media/2D_fixed_source/2_group_point_source_g2.png"></img></picture><p class="moose-caption"><span class="moose-caption-heading">Figure 5: </span><span class="moose-caption-text" id="2g_point_g2">Group 2 scalar flux from the 2D point source problem.</span></p></div></div><p>Similar to <a href="#point_output">Figure 2</a>, we can see ray effects in the fast energy group due to the low within-group scattering cross section relative to the total cross section. The effect of fast-to-thermal scattering and the large within-group thermal scattering cross section can be seen in <a href="#2g_point_g2">Figure 5</a>, where there are no ray effect even though the point source emits into group two.</p></section><section class="scrollspy" id="18208d70-50ad-43bf-8193-dc79c6e607ad" data-section-level="2" data-section-text="Swapping the Point Source for a Surface Source"><h2 id="swapping-the-point-source-for-a-surface-source">Swapping the Point Source for a Surface Source</h2><p>In this section, we remove the point source and add an isotropic surface source on the top boundary of the domain. This requires a few minor modifications to the <code>TransportSystem</code>.</p><pre class="moose-pre" style="max-height:350px;"><code class="language-text">[TransportSystems]
  [Neutron]
    num_groups = 2
    max_anisotropy = 0
    scheme = saaf_cfem
    particle_type = neutron

    order = FIRST
    family = LAGRANGE

    n_azimuthal = 2
    n_polar = 2

    vacuum_boundaries = &#x27;left right bottom&#x27;
    source_boundaries = &#x27;top&#x27;

    boundary_source_moments = &#x27;1e3 1.0&#x27;
    boundary_source_anisotropy = &#x27;0&#x27;
    scale_sources = true
  []
[]
</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#ad6d64d2-477b-4ad7-bdee-1fd174244546">(tutorials/2D_fixed_source/2D_surface_source_2_grp.i)</a><p><code>point_source_locations</code> is replaced with <code>source_boundaries</code>, which contains the side sets on which we wish to apply the surface source. <code>point_source_moments</code> and <code>point_source_anisotropies</code> are then replaced with their surface source equivalents: <code>boundary_source_moments</code> and <code>boundary_source_anisotropy</code>. This modified input deck can be run with:</p><pre class="moose-pre"><code class="language-bash">
mpiexec -np 2 gnat-opt -i ./2D_surface_source_2_grp.i --n-threads=2
</code></pre><p>The results for group 1 (fast) can be found in <a href="#2g_surf_g1">Figure 6</a>, while the results for group 2 (thermal) can be found in <a href="#2g_surf_g2">Figure 7</a>.</p><div class="card moose-float" style="width:40%;margin-left:auto;margin-right:auto;halign:center" id="2g_surf_g1"><div class="card-content"><picture class="materialboxed moose-image"><img src="../media/2D_fixed_source/2_group_surface_source_g1.png"></img></picture><p class="moose-caption"><span class="moose-caption-heading">Figure 6: </span><span class="moose-caption-text" id="2g_surf_g1">Group 1 scalar flux from the 2D surface source problem.</span></p></div></div><div class="card moose-float" style="width:40%;margin-left:auto;margin-right:auto;halign:center" id="2g_surf_g2"><div class="card-content"><picture class="materialboxed moose-image"><img src="../media/2D_fixed_source/2_group_surface_source_g2.png"></img></picture><p class="moose-caption"><span class="moose-caption-heading">Figure 7: </span><span class="moose-caption-text" id="2g_surf_g2">Group 2 scalar flux from the 2D surface source problem.</span></p></div></div></section></section><div class="moose-modal modal" id="d20e0b37-1299-4dc1-a5e4-34f8a3d6b85a"><div class="modal-content"><h4>(tutorials/2D_fixed_source/2D_point_source.i)</h4><pre class="moose-pre"><code class="language-text"># A simple test case with a single group scattering medium and a point source
# in the middle of the domain.

[Mesh]
  [domain]
    type = CartesianMeshGenerator
    dim = 2
    dx = 10
    dy = 10
    ix = 101
    iy = 101
  []
[]

[TransportSystems]
  [Neutron]
    num_groups = 1
    max_anisotropy = 0
    scheme = saaf_cfem
    particle_type = neutron

    order = FIRST
    family = LAGRANGE

    n_azimuthal = 2
    n_polar = 2

    vacuum_boundaries = &#x27;left right top bottom&#x27;

    point_source_locations = &#x27;5.0 5.0 0.0&#x27;
    point_source_moments = &#x27;1e3&#x27;
    point_source_anisotropies = &#x27;0&#x27;
    scale_sources = true
  []
[]

[TransportMaterials]
  [Domain]
    type = ConstantTransportMaterial
    transport_system = Neutron
    anisotropy = 0
    group_total = 2.0
    group_scattering = 1.0
  []
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; hypre    boomeramg      10&#x27;
  l_max_its = 50
  nl_rel_tol = 1e-12
[]

[Outputs]
  exodus = true
  execute_on = &#x27;TIMESTEP_END&#x27;
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="moose-modal modal" id="f6af3559-7677-4424-ae1d-76f768ac98cd"><div class="modal-content"><h4>(tutorials/2D_fixed_source/2D_point_source.i)</h4><pre class="moose-pre"><code class="language-text"># A simple test case with a single group scattering medium and a point source
# in the middle of the domain.

[Mesh]
  [domain]
    type = CartesianMeshGenerator
    dim = 2
    dx = 10
    dy = 10
    ix = 101
    iy = 101
  []
[]

[TransportSystems]
  [Neutron]
    num_groups = 1
    max_anisotropy = 0
    scheme = saaf_cfem
    particle_type = neutron

    order = FIRST
    family = LAGRANGE

    n_azimuthal = 2
    n_polar = 2

    vacuum_boundaries = &#x27;left right top bottom&#x27;

    point_source_locations = &#x27;5.0 5.0 0.0&#x27;
    point_source_moments = &#x27;1e3&#x27;
    point_source_anisotropies = &#x27;0&#x27;
    scale_sources = true
  []
[]

[TransportMaterials]
  [Domain]
    type = ConstantTransportMaterial
    transport_system = Neutron
    anisotropy = 0
    group_total = 2.0
    group_scattering = 1.0
  []
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; hypre    boomeramg      10&#x27;
  l_max_its = 50
  nl_rel_tol = 1e-12
[]

[Outputs]
  exodus = true
  execute_on = &#x27;TIMESTEP_END&#x27;
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="moose-modal modal" id="c12dc292-1e2d-40d5-bac4-ff7a02fcbe43"><div class="modal-content"><h4>(tutorials/2D_fixed_source/2D_point_source.i)</h4><pre class="moose-pre"><code class="language-text"># A simple test case with a single group scattering medium and a point source
# in the middle of the domain.

[Mesh]
  [domain]
    type = CartesianMeshGenerator
    dim = 2
    dx = 10
    dy = 10
    ix = 101
    iy = 101
  []
[]

[TransportSystems]
  [Neutron]
    num_groups = 1
    max_anisotropy = 0
    scheme = saaf_cfem
    particle_type = neutron

    order = FIRST
    family = LAGRANGE

    n_azimuthal = 2
    n_polar = 2

    vacuum_boundaries = &#x27;left right top bottom&#x27;

    point_source_locations = &#x27;5.0 5.0 0.0&#x27;
    point_source_moments = &#x27;1e3&#x27;
    point_source_anisotropies = &#x27;0&#x27;
    scale_sources = true
  []
[]

[TransportMaterials]
  [Domain]
    type = ConstantTransportMaterial
    transport_system = Neutron
    anisotropy = 0
    group_total = 2.0
    group_scattering = 1.0
  []
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; hypre    boomeramg      10&#x27;
  l_max_its = 50
  nl_rel_tol = 1e-12
[]

[Outputs]
  exodus = true
  execute_on = &#x27;TIMESTEP_END&#x27;
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="moose-modal modal" id="cf07a39d-3199-4813-bec8-52c4cf30c0c5"><div class="modal-content"><h4>(tutorials/2D_fixed_source/2D_point_source.i)</h4><pre class="moose-pre"><code class="language-text"># A simple test case with a single group scattering medium and a point source
# in the middle of the domain.

[Mesh]
  [domain]
    type = CartesianMeshGenerator
    dim = 2
    dx = 10
    dy = 10
    ix = 101
    iy = 101
  []
[]

[TransportSystems]
  [Neutron]
    num_groups = 1
    max_anisotropy = 0
    scheme = saaf_cfem
    particle_type = neutron

    order = FIRST
    family = LAGRANGE

    n_azimuthal = 2
    n_polar = 2

    vacuum_boundaries = &#x27;left right top bottom&#x27;

    point_source_locations = &#x27;5.0 5.0 0.0&#x27;
    point_source_moments = &#x27;1e3&#x27;
    point_source_anisotropies = &#x27;0&#x27;
    scale_sources = true
  []
[]

[TransportMaterials]
  [Domain]
    type = ConstantTransportMaterial
    transport_system = Neutron
    anisotropy = 0
    group_total = 2.0
    group_scattering = 1.0
  []
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; hypre    boomeramg      10&#x27;
  l_max_its = 50
  nl_rel_tol = 1e-12
[]

[Outputs]
  exodus = true
  execute_on = &#x27;TIMESTEP_END&#x27;
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="moose-modal modal" id="98c458ab-63e7-44c4-8f35-7850667bdaea"><div class="modal-content"><h4>(tutorials/2D_fixed_source/2D_point_source_2_grp.i)</h4><pre class="moose-pre"><code class="language-text"># A simple test case with a single group scattering medium and a point source
# in the middle of the domain.

[Mesh]
  [domain]
    type = CartesianMeshGenerator
    dim = 2
    dx = 10
    dy = 10
    ix = 101
    iy = 101
  []
[]

[TransportSystems]
  [Neutron]
    num_groups = 2
    max_anisotropy = 0
    scheme = saaf_cfem
    particle_type = neutron

    order = FIRST
    family = LAGRANGE

    n_azimuthal = 2
    n_polar = 2

    vacuum_boundaries = &#x27;left right top bottom&#x27;

    point_source_locations = &#x27;5.0 5.0 0.0&#x27;
    point_source_moments = &#x27;1e3 1.0&#x27;
    point_source_anisotropies = &#x27;0&#x27;
    scale_sources = true
  []
[]

[TransportMaterials]
  [Domain]
    type = ConstantTransportMaterial
    transport_system = Neutron
    anisotropy = 0
    group_total = &#x27;1.0 2.0&#x27;
    group_scattering = &#x27;0.4 0.1
                        0.0 2.0&#x27;
  []
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; hypre    boomeramg      10&#x27;
  l_max_its = 50
  nl_rel_tol = 1e-12
[]

[Outputs]
  exodus = true
  execute_on = &#x27;TIMESTEP_END&#x27;
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="moose-modal modal" id="b784a73b-063e-430d-9501-a0fffe61dcd9"><div class="modal-content"><h4>(tutorials/2D_fixed_source/2D_point_source_2_grp.i)</h4><pre class="moose-pre"><code class="language-text"># A simple test case with a single group scattering medium and a point source
# in the middle of the domain.

[Mesh]
  [domain]
    type = CartesianMeshGenerator
    dim = 2
    dx = 10
    dy = 10
    ix = 101
    iy = 101
  []
[]

[TransportSystems]
  [Neutron]
    num_groups = 2
    max_anisotropy = 0
    scheme = saaf_cfem
    particle_type = neutron

    order = FIRST
    family = LAGRANGE

    n_azimuthal = 2
    n_polar = 2

    vacuum_boundaries = &#x27;left right top bottom&#x27;

    point_source_locations = &#x27;5.0 5.0 0.0&#x27;
    point_source_moments = &#x27;1e3 1.0&#x27;
    point_source_anisotropies = &#x27;0&#x27;
    scale_sources = true
  []
[]

[TransportMaterials]
  [Domain]
    type = ConstantTransportMaterial
    transport_system = Neutron
    anisotropy = 0
    group_total = &#x27;1.0 2.0&#x27;
    group_scattering = &#x27;0.4 0.1
                        0.0 2.0&#x27;
  []
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; hypre    boomeramg      10&#x27;
  l_max_its = 50
  nl_rel_tol = 1e-12
[]

[Outputs]
  exodus = true
  execute_on = &#x27;TIMESTEP_END&#x27;
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="moose-modal modal" id="ad6d64d2-477b-4ad7-bdee-1fd174244546"><div class="modal-content"><h4>(tutorials/2D_fixed_source/2D_surface_source_2_grp.i)</h4><pre class="moose-pre"><code class="language-text"># A simple test case with a single group scattering medium and a point source
# in the middle of the domain.

[Mesh]
  [domain]
    type = CartesianMeshGenerator
    dim = 2
    dx = 10
    dy = 10
    ix = 101
    iy = 101
  []
[]

[TransportSystems]
  [Neutron]
    num_groups = 2
    max_anisotropy = 0
    scheme = saaf_cfem
    particle_type = neutron

    order = FIRST
    family = LAGRANGE

    n_azimuthal = 2
    n_polar = 2

    vacuum_boundaries = &#x27;left right bottom&#x27;
    source_boundaries = &#x27;top&#x27;

    boundary_source_moments = &#x27;1e3 1.0&#x27;
    boundary_source_anisotropy = &#x27;0&#x27;
    scale_sources = true
  []
[]

[TransportMaterials]
  [Domain]
    type = ConstantTransportMaterial
    transport_system = Neutron
    anisotropy = 0
    group_total = &#x27;1.0 2.0&#x27;
    group_scattering = &#x27;0.4 0.1
                        0.0 2.0&#x27;
  []
[]

[Executioner]
  type = Steady
  solve_type = PJFNK
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27; hypre    boomeramg      10&#x27;
  l_max_its = 50
  nl_rel_tol = 1e-12
[]

[Outputs]
  exodus = true
  execute_on = &#x27;TIMESTEP_END&#x27;
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#7136ca5d-81cf-426d-aeb7-9ee546495b7b" class="tooltipped" data-position="left" data-tooltip="Geometry and Material Properties">Geometry and Material Properties</a></li><li><a href="#6420f589-f9a1-4b3e-842e-248c9529ad86" class="tooltipped" data-position="left" data-tooltip="The Neutronics Input File">The Neutronics Input File</a></li><li><a href="#ffd243d7-8816-4bfe-a3da-1e36d7cb6d0a" class="tooltipped" data-position="left" data-tooltip="Adding a Second Energy Group">Adding a Second Energy Group</a></li><li><a href="#18208d70-50ad-43bf-8193-dc79c6e607ad" class="tooltipped" data-position="left" data-tooltip="Swapping the Point Source for a Surface Source">Swapping the Point Source for a Surface Source</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../js/init.js"></script><script type="text/javascript" src="../js/navigation.js"></script><script type="text/javascript" src="../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../js/search_index.js"></script><script type="text/javascript" src="../js/sqa_moose.js"></script>